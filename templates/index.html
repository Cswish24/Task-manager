{% extends 'base.html' %}
{%block css %}
<link
href="{{ url_for('static', filename='../static/general.css') }}"
rel="stylesheet"
/>
<link
href="{{ url_for('static', filename='../static/index.css') }}"
rel="stylesheet"
/>
{% endblock %}

{% block content %} 
  <h2 class="heading">Task Manager Home</h2>
  <div class="grid">
    <div class="flexbox-vert">
      
      <h3 class="subheading">
        {% if not tasks_due  %}
          No Tasks available
        </h3>
        {% else %}
          Upcoming due dates
        </h3>
            {% for task in tasks_due %}
            <div class="due_grid">
              <p class="due_task_t"> Task</p>
              <a class="due_task" href="{{url_for('task_view', task_id=task.id)}}">{{task.name|truncate(20, True)}}</a>
              <p class="due_task_h"> Due Date </p>
              <p class="due_task_h"> Priority </p>

              
              <p class="due_task_p"> {{task.due_date}} </p>
              <p class="due_task_p">{{task.priority}}</p>
            </div>
            {% endfor %}
        {% endif %}
        
      </div>

      <div class="flexbox-vert">
        <h3 class="subheading">
          {% if not tasks_priority  %}
            No Tasks available
          </h3>
          {% else %}
            High Priority Tasks
          </h3>
              {% for task in tasks_priority %}
              <div class="due_grid">
                <p class="due_task_t"> Task</p>
                <a class="due_task" href="{{url_for('task_view', task_id=task.id)}}">{{task.name|truncate(20, True)}}</a>
                <p class="due_task_h"> Due Date </p>
                <p class="due_task_h"> Priority </p>
  
                
                <p class="due_task_p"> {{task.due_date}} </p>
                <p class="due_task_p">{{task.priority}}</p>
              </div>
              {% endfor %}
          {% endif %}
        </div>

        <div class="flexbox-vert">
          <h3 class="subheading">
            {% if not tasks_recent  %}
              No Tasks available
            </h3>
            {% else %}
              Recently Created Tasks
            </h3>
                {% for task in tasks_recent %}
                <div class="due_grid">
                  <p class="due_task_t"> Task</p>
                  <a class="due_task" href="{{url_for('task_view', task_id=task.id)}}">{{task.name|truncate(20, True)}}</a>
                  <p class="due_task_h"> Due Date </p>
                  <p class="due_task_h"> Priority </p>
    
                  
                  <p class="due_task_p"> {{task.due_date}} </p>
                  <p class="due_task_p">{{task.priority}}</p>
                </div>
                {% endfor %}
            {% endif %}
          </div>

          <div class="flexbox-vert">
            <h3 class="subheading">
              {% if not tasks_recent_completed  %}
                No Recently Completed Tasks
              </h3>
              {% else %}
              Recently Completed Tasks
              </h3>
                  {% for task in tasks_recent_completed %}
                  <div class="due_grid">
                    <p class="due_task_t"> Task</p>
                    <a class="due_task" href="{{url_for('task_view', task_id=task.id)}}">{{task.name|truncate(20, True)}}</a>
                    <p class="due_task_h"> Due Date </p>
                    <p class="due_task_h"> Priority </p>
      
                    
                    <p class="due_task_p"> {{task.due_date}} </p>
                    <p class="due_task_p">{{task.priority}}</p>
                  </div>
                  {% endfor %}
              {% endif %}
            </div>

    </div>

{% endblock %}

